(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/logoBurger.eda230cd.png"},29:function(e,t,a){e.exports=a(40)},34:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),o=(a(34),a(7)),u=a(9),i=a(13),d=a.n(i),m=(a(6),function(){return r.a.createElement("div",{className:"App-header","data-testid":"welcome"},r.a.createElement("img",{src:d.a,alt:"imagen de product",className:"Burger-logo"}),r.a.createElement("button",{className:"Button-mesero",id:"ingresar"},r.a.createElement(o.b,{to:"/waiter"}," Mesero ")),r.a.createElement("button",{className:"Button-mesero",id:"ing"},r.a.createElement(o.b,{to:"/chef"}," Jefe de Cocina ")))}),s=a(28),p=a(11),E=a(4),f=a(8),b=a.n(f);a(17);b.a.initializeApp({apiKey:"AIzaSyCRUjRxgsnGbdWJrpP7UVHFeS0JEzM2Jw0",authDomain:"burger-queen-6ff61.firebaseapp.com",databaseURL:"https://burger-queen-6ff61.firebaseio.com",projectId:"burger-queen-6ff61",storageBucket:"burger-queen-6ff61.appspot.com",messagingSenderId:"494430091091",appId:"1:494430091091:web:6b21175389312bf33713a6",measurementId:"G-0K0FDC86YR"});var O=b.a;function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var v=function(e){var t=e.addProductAtOrder,a=Object(n.useState)([]),c=Object(E.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)("desayuno"),i=Object(E.a)(u,2),d=i[0],m=i[1];return Object(n.useEffect)((function(){O.firestore().collection("products").where("tipo","==",d).get().then((function(e){var t=[];e.forEach((function(e){t.push(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:e.id},e.data()))})),o(t)})).catch((function(e){console.log("Error getting documents: ",e)}))}),[d]),r.a.createElement("div",{className:"menu"},r.a.createElement("h1",null,"LISTA DE PRODUCTOS"),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"buttonApp",onClick:function(){return m("desayuno")}}," ","Desayuno"," "),r.a.createElement("button",{type:"button",className:"buttonApp",onClick:function(){return m("almuerzo_cena")}}," ","Almuerzo y cena"," ")),r.a.createElement("div",{className:"Scroll","data-testid":"productList"},l.map((function(e){return r.a.createElement("div",{"data-testid":"child",key:e.id,onClick:function(){return t(e)}},r.a.createElement("p",{className:"name"},e.nombre),r.a.createElement("p",{className:"price"},"S/.",e.precio),r.a.createElement("img",{src:e.url,alt:"imagen de product",className:"Width-product "}))}))))},y=r.a.useState,h=function(e){var t=e.products,a=e.cantidad,n=e.total,c=e.deleteRow,l=e.order,o=y(""),u=Object(E.a)(o,2),i=u[0],d=u[1],m=y(""),s=Object(E.a)(m,2),p=s[0],f=s[1],O=!(t.length>0&&i.length>0&&p.length>0);return r.a.createElement("div",{className:"Order"},r.a.createElement("h2",null,"PEDIDO"),r.a.createElement("div",null,r.a.createElement("label",null,"Cliente:"," ",r.a.createElement("input",{placeholder:"Nombre",value:i,onChange:function(e){d(e.target.value)}})),r.a.createElement("br",null),r.a.createElement("label",null,"N\xb0 Mesa:"," ",r.a.createElement("input",{placeholder:"N\xb0 de Mesa",value:p,onChange:function(e){f(e.target.value)}}))),r.a.createElement("table",{className:""},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"5"},"DETALLE DE PEDIDO")),r.a.createElement("tr",null,r.a.createElement("td",null,"CANT."),r.a.createElement("td",null,"DESCRIPCI\xd3N"),r.a.createElement("td",null,"PU"),r.a.createElement("td",null,"SUBTOTAL"),r.a.createElement("td",null,"BORRAR"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("input",{type:"number",min:"1",max:"100",defaultValue:e.cantidad,onClick:function(t){var n=t.target.value;a(e.id,n)}})),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,"S/.",e.precio),r.a.createElement("td",null,"S/.",e.precio*e.cantidad),r.a.createElement("td",null,r.a.createElement("i",{className:"fa fa-minus-circle","aria-hidden":"true",onClick:function(){c(e)}})))})))),r.a.createElement("p",{className:"Total"},"Total = S/.",n()),r.a.createElement("button",{type:"button",className:"Send",onClick:function(){O||function(e,t,a,n,r,c){return b.a.firestore().collection("order").add({name:e,mesa:t,product:a,date:n,estado:r,total:c})}(i,p,t,new Date,"pendiente",n()).then((function(){l([]),d(""),f("")}))},disabled:O},"Enviar"))},j=function(){return r.a.createElement("header",{className:"Flex-header"},r.a.createElement(o.b,{to:"/"},r.a.createElement("img",{src:d.a,alt:"imagen de product",className:"Burger-log"})))};function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement("button",{className:"btn-nav"},r.a.createElement(o.b,{to:"/chef"}," Estados de pedidos ")),r.a.createElement("main",null,r.a.createElement("section",{className:"Flex"},r.a.createElement(v,{addProductAtOrder:function(e){var t=a.find((function(t){return t.id===e.id}));if(void 0!==t){var n=a.map((function(e){return t.id===e.id&&(e.disable=!0),e}));c(n)}else c([].concat(Object(s.a)(a),[w({},e,{cantidad:1})]))}}),r.a.createElement(h,{order:c,products:a,cantidad:function(e,t){var n=a.map((function(a){return e===a.id?w({},a,{cantidad:t}):a}));c(n)},total:function(){var e=0;return a.map((function(t){return e+=t.precio*t.cantidad})),e},deleteRow:function(e){var t=a.filter((function(t){return e.id!==t.id}));c(t)}}))))},P=function(e){var t=e.arr,a=e.setOrderToReady,n=e.setOrderToDelivered;return r.a.createElement("main",null,t.map((function(e){return r.a.createElement("div",{className:"Status",key:e.id},r.a.createElement("h2",null,e.estado.toUpperCase()),r.a.createElement("p",{className:""},r.a.createElement("span",null,"Cliente: "),e.name),r.a.createElement("p",{className:""},r.a.createElement("span",null,"N\xb0 de Mesa: "),e.mesa),r.a.createElement("p",{className:""},r.a.createElement("span",null,"Hora de Pedido: "),e.date.toDate().getHours(),":",e.date.toDate().getMinutes()),("listo"===e.estado||"entregado"===e.estado)&&r.a.createElement("p",null,r.a.createElement("span",null,"Tiempo Transcurrido: "),e.duration),r.a.createElement("table",{className:""},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{colSpan:"5"},"DETALLE DE PEDIDO")),r.a.createElement("tr",null,r.a.createElement("td",null,"CANT."),r.a.createElement("td",null,"DESCRIPCI\xd3N"),r.a.createElement("td",null,"PU"),r.a.createElement("td",null,"SUBTOTAL"))),r.a.createElement("tbody",null,e.product.map((function(e){return r.a.createElement("tr",{key:e.nombre},r.a.createElement("td",null,e.cantidad),r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.precio),r.a.createElement("td",null,e.cantidad*e.precio))})))),r.a.createElement("p",{className:"tot"},"TOTAL = S/.",e.total),"pendiente"===e.estado&&r.a.createElement("button",{type:"button",onClick:function(){return a(e)}},"Marcar como pedido LISTO"),"listo"===e.estado&&r.a.createElement("button",{type:"button",onClick:function(){return n(e)}},"Marcar como pedido ENTREGADO"))})))};function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var C=function(){var e=Object(n.useState)([]),t=Object(E.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)("pendiente"),o=Object(E.a)(l,2),u=o[0],i=o[1];Object(n.useEffect)((function(){b.a.firestore().collection("order").where("estado","==",u).orderBy("date","asc").onSnapshot((function(e){c(e.docs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:e.id},e.data())})))}))}),[u]);return r.a.createElement("div",null,r.a.createElement("nav",{className:"Nav"},r.a.createElement("ul",null,r.a.createElement("li",{className:"Nav-btn",onClick:function(){return i("pendiente")}},"Pendientes"),r.a.createElement("li",{className:"Nav-btn",onClick:function(){return i("listo")}},"Listos"),r.a.createElement("li",{className:"Nav-btn",onClick:function(){return i("entregado")}},"Entregados"))),r.a.createElement(P,{arr:a,setOrderToReady:function(e){var t=e.id,a=e.date,n=new Date-a.toDate(),r=function(e){return(e<10?"0":"")+e},c=(n=(n-n%1e3)/1e3)%60,l=(n=(n-c)/60)%60,o="".concat(r((n-l)/60),":").concat(r(l),":").concat(r(c));b.a.firestore().collection("order").doc(t).update({estado:"listo",duration:o})},setOrderToDelivered:function(e){var t=e.id;b.a.firestore().collection("order").doc(t).update({estado:"entregado"})}}))},k=function(){return r.a.createElement("div",null,r.a.createElement(j,null),r.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){return r.a.createElement(o.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/chef"},r.a.createElement(k,null)),r.a.createElement(u.a,{path:"/waiter"},r.a.createElement(D,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(m,null))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,a){}},[[29,1,2]]]);
//# sourceMappingURL=main.e94047fd.chunk.js.map